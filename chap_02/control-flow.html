<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Control Flow - A Gentle Introduction to Rust programming language</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "coal";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">A Gentle Introduction to Rust programming language</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/dr-saad-la/gentle-intro-to-rust" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="control-flow"><a class="header" href="#control-flow">Control Flow</a></h1>
<p>Control flow refers to the order in which a program executes statements. Rust provides several control flow constructs that allow you to make decisions, repeat code, and handle different conditions. In this section, we'll explore if expressions, loops, and pattern matching with match.</p>
<h2 id="if-expressions"><a class="header" href="#if-expressions">If Expressions</a></h2>
<p>The <code>if</code> expression allows you to branch your code based on conditions. If the condition is true, a block of code is executed; if it's false, that block is skipped and an optional <code>else</code> block might be executed instead.</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number = 7;

    if number &lt; 5 {
        println!("condition was true");
    } else {
        println!("condition was false");
    }
}</code></pre></pre>
<p>The condition in an <code>if</code> expression must be a boolean. Unlike some languages, Rust will not automatically convert non-boolean types to a boolean:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number = 3;

    // This would cause an error
    // if number {
    //    println!("number was non-zero");
    // }

    // The correct way
    if number != 0 {
        println!("number was non-zero");
    }
}</code></pre></pre>
<p>You can use multiple conditions with <code>else if</code>:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3");
    } else if number % 2 == 0 {
        println!("number is divisible by 2");
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}</code></pre></pre>
<h3 id="using-if-in-a-let-statement"><a class="header" href="#using-if-in-a-let-statement">Using If in a Let Statement</a></h3>
<p>Since <code>if</code> is an expression, we can use it on the right side of a <code>let</code> statement:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let condition = true;
    let number = if condition { 5 } else { 6 };

    println!("The value of number is: {}", number);
}</code></pre></pre>
<p>Remember that both arms of an <code>if</code> used in a <code>let</code> statement must return the same type:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let condition = true;

    // This would cause a compile error
    // let number = if condition { 5 } else { "six" };
}</code></pre></pre>
<h2 id="loops"><a class="header" href="#loops">Loops</a></h2>
<p>Rust provides three kinds of loops: <code>loop</code>, <code>while</code>, and <code>for</code>.</p>
<h3 id="the-loop-expression"><a class="header" href="#the-loop-expression">The Loop Expression</a></h3>
<p>The <code>loop</code> keyword creates an infinite loop:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    loop {
        println!("again!");

        // This loop would run forever without a break
        break;
    }
}</code></pre></pre>
<p>We can use the <code>break</code> keyword to exit a loop and the <code>continue</code> keyword to skip the rest of the current iteration and start the next one.</p>
<h4 id="returning-values-from-loops"><a class="header" href="#returning-values-from-loops">Returning Values from Loops</a></h4>
<p>One useful feature of loops is that they can return values. To do this, add the value you want to return after the <code>break</code> expression:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("The result is {}", result);  // Prints 20
}</code></pre></pre>
<h4 id="loop-labels"><a class="header" href="#loop-labels">Loop Labels</a></h4>
<p>If you have nested loops, <code>break</code> and <code>continue</code> apply to the innermost loop. You can use loop labels to specify which loop a <code>break</code> or <code>continue</code> statement applies to:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    'outer: loop {
        println!("Entered the outer loop");

        loop {
            println!("Entered the inner loop");

            // This breaks the outer loop
            break 'outer;
        }

        // This point is never reached
        println!("This will never be printed");
    }

    println!("Exited the outer loop");
}</code></pre></pre>
<h3 id="while-loops"><a class="header" href="#while-loops">While Loops</a></h3>
<p>A <code>while</code> loop performs a block of code as long as a condition remains true:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let mut number = 3;

    while number != 0 {
        println!("{}!", number);

        number -= 1;
    }

    println!("LIFTOFF!!!");
}</code></pre></pre>
<p>This loop will print:</p>
<pre><code>3!
2!
1!
LIFTOFF!!!
</code></pre>
<p>While loops are clear when a condition is needed for the loop, but they can be slower than other loops because the compiler adds runtime code to check the condition on every iteration.</p>
<h3 id="for-loops"><a class="header" href="#for-loops">For Loops</a></h3>
<p>The <code>for</code> loop is used to iterate over elements of a collection:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a {
        println!("the value is: {}", element);
    }
}</code></pre></pre>
<p>This is the safest and most concise loop for iterating through a collection. You don't need to worry about going beyond array boundaries or missing elements.</p>
<p>If you need to run code a specific number of times, you can use a range with a for loop:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // Range 1..4 means 1, 2, 3 (excludes 4)
    for number in 1..4 {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}</code></pre></pre>
<p>To include the upper bound, use the inclusive range syntax:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for number in 1..=3 {
    println!("{}!", number);
}
<span class="boring">}</span></code></pre></pre>
<p>For loops can also iterate in reverse using the <code>rev</code> method:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}</code></pre></pre>
<p>This will print:</p>
<pre><code>3!
2!
1!
LIFTOFF!!!
</code></pre>
<h2 id="the-match-control-flow-operator"><a class="header" href="#the-match-control-flow-operator">The Match Control Flow Operator</a></h2>
<p>Rust has an extremely powerful control flow operator called <code>match</code> that allows you to compare a value against a series of patterns and then execute code based on which pattern matches. Think of it as an advanced version of a switch statement from other languages.</p>
<pre><pre class="playground"><code class="language-rust">enum Coin {
    Penny,
    Nickel,
    Dime,
    Quarter,
}

fn value_in_cents(coin: Coin) -&gt; u8 {
    match coin {
        Coin::Penny =&gt; 1,
        Coin::Nickel =&gt; 5,
        Coin::Dime =&gt; 10,
        Coin::Quarter =&gt; 25,
    }
}

fn main() {
    let coin = Coin::Dime;
    println!("A {:?} is worth {} cents", coin, value_in_cents(coin));
}</code></pre></pre>
<p><code>match</code> is exhaustive, meaning you must include all possible patterns. If you miss one, the compiler will let you know.</p>
<h3 id="pattern-binding"><a class="header" href="#pattern-binding">Pattern Binding</a></h3>
<p>You can bind values to names in match patterns:</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
enum UsState {
    Alabama,
    Alaska,
    // ... other states
}

enum Coin {
    Penny,
    Nickel,
    Dime,
    Quarter(UsState),
}

fn value_in_cents(coin: Coin) -&gt; u8 {
    match coin {
        Coin::Penny =&gt; 1,
        Coin::Nickel =&gt; 5,
        Coin::Dime =&gt; 10,
        Coin::Quarter(state) =&gt; {
            println!("State quarter from {:?}!", state);
            25
        }
    }
}

fn main() {
    let coin = Coin::Quarter(UsState::Alaska);
    println!("Value: {}", value_in_cents(coin));
}</code></pre></pre>
<h3 id="matching-with-option"><a class="header" href="#matching-with-option">Matching with Option<T></a></h3>
<p><code>match</code> is particularly useful with the <code>Option&lt;T&gt;</code> enum:</p>
<pre><pre class="playground"><code class="language-rust">fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; {
    match x {
        None =&gt; None,
        Some(i) =&gt; Some(i + 1),
    }
}

fn main() {
    let five = Some(5);
    let six = plus_one(five);
    let none = plus_one(None);

    println!("five: {:?}, six: {:?}, none: {:?}", five, six, none);
}</code></pre></pre>
<h3 id="catch-all-patterns-and-the-_-placeholder"><a class="header" href="#catch-all-patterns-and-the-_-placeholder">Catch-all Patterns and the _ Placeholder</a></h3>
<p>If we want to take a special action for a few patterns but a default action for all others:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let dice_roll = 9;
match dice_roll {
    3 =&gt; add_fancy_hat(),
    7 =&gt; remove_fancy_hat(),
    _ =&gt; reroll(),  // The _ is a catch-all pattern
}
<span class="boring">}</span></code></pre></pre>
<p>We can also use the <code>_</code> placeholder when we don't care about the value:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match dice_roll {
    3 =&gt; add_fancy_hat(),
    7 =&gt; remove_fancy_hat(),
    _ =&gt; (), // Do nothing for all other values
}
<span class="boring">}</span></code></pre></pre>
<h2 id="if-let-syntax"><a class="header" href="#if-let-syntax">If Let Syntax</a></h2>
<p>The <code>if let</code> syntax is a shorter way to handle values that match one pattern while ignoring the rest:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let some_value = Some(3);

// Using match
match some_value {
    Some(3) =&gt; println!("three!"),
    _ =&gt; (),
}

// Equivalent using if let
if let Some(3) = some_value {
    println!("three!");
}
<span class="boring">}</span></code></pre></pre>
<p><code>if let</code> takes a pattern and an expression separated by an equals sign. It works the same way as a <code>match</code> where the expression is compared to the pattern.</p>
<p>You can include an <code>else</code> with an <code>if let</code>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut count = 0;
if let Coin::Quarter(state) = coin {
    println!("State quarter from {:?}!", state);
} else {
    count += 1;
}
<span class="boring">}</span></code></pre></pre>
<h2 id="control-flow-summary"><a class="header" href="#control-flow-summary">Control Flow Summary</a></h2>
<p>Rust's control flow constructs are powerful and expressive:</p>
<ul>
<li><strong>if expressions</strong> let you branch based on conditions</li>
<li><strong>loops</strong> let you repeat code with <code>loop</code>, <code>while</code>, and <code>for</code></li>
<li><strong>match expressions</strong> let you compare a value against patterns</li>
<li><strong>if let</strong> provides a concise way to handle one pattern matching case</li>
</ul>
<p>These constructs are essential for writing Rust programs that can handle different conditions and process data in a variety of ways. As you become more comfortable with Rust, you'll find yourself combining these constructs in increasingly sophisticated ways.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../chap_02/functions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../chap_02/operators-expresions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../chap_02/functions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../chap_02/operators-expresions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../editor.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
